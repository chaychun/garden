---
import InteractionLayout from "@/layouts/InteractionLayout.astro";
import type { GetStaticPaths } from "astro";
import { getCollection, render, type CollectionEntry } from "astro:content";

export const getStaticPaths: GetStaticPaths = async () => {
	const interactions = await getCollection("interactions");
	return interactions.map((interaction) => ({
		params: { id: interaction.id },
		props: { interaction },
	}));
};

const { interaction } = Astro.props as {
	interaction: CollectionEntry<"interactions">;
};
const { Content } = await render(interaction);
---

<InteractionLayout
	title={interaction.data.title}
	description={interaction.data.description}
	createdDate={interaction.data.createdDate.toISOString()}
	lastUpdatedDate={interaction.data.lastUpdatedDate.toISOString()}
	technologies={interaction.data.tags || []}
>
	<Content />
</InteractionLayout>
