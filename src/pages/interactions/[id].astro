---
import BaseLayout from "@/layouts/BaseLayout.astro";
import type { GetStaticPaths } from "astro";
import { getCollection, render, type CollectionEntry } from "astro:content";

export const getStaticPaths: GetStaticPaths = async () => {
	const interactions = await getCollection("interactions");
	return interactions.map((interaction) => ({
		params: { id: interaction.id },
		props: { interaction },
	}));
};

const { interaction } = Astro.props as {
	interaction: CollectionEntry<"interactions">;
};
const { Content } = await render(interaction);
---

<BaseLayout title={interaction.data.title}>
	<div class="container mx-auto px-4 py-8">
		<div class="mx-auto max-w-4xl">
			<h1 class="mb-8 text-4xl font-bold">{interaction.data.title}</h1>
			<div class="prose prose-lg">
				<Content />
			</div>
		</div>
	</div>
</BaseLayout>
